const handleModal=Array.from(document.querySelectorAll(".js-handleModal")),resetCounter=Array.from(document.querySelectorAll(".js-resetCounter")),clickedData=getClickedData();function handleClicker(t){const e=t.getAttribute("data-modal");var a=clickedData.findIndex(t=>t.target==e),c=clickedData[a].counter+1;5<c&&t.querySelector(".js-resetCounter").classList.add("active"),clickedData[a].counter=c,sessionStorage.setItem("clicked",JSON.stringify(clickedData)),t.querySelector(".js-clicked").textContent=c}function openModal(t){t=t.getAttribute("data-target");const e=document.querySelector(`.js-modal[data-modal="${t}"]`);e.classList.add("active"),handleClicker(e)}function closeModal(t){t.closest(".js-modal").classList.remove("active")}function getClickedData(){const t=Array.from(document.querySelectorAll(".js-modal")),a=JSON.parse(sessionStorage.getItem("clicked"));let c=[];return null==a?(t.forEach(t=>{c.push({target:t.getAttribute("data-modal"),counter:0})}),c):t.length>a.length?(t.forEach((t,e)=>{e<a.length?c.push({target:a[e].target,counter:a[e].counter}):c.push({target:t.getAttribute("data-modal"),counter:0})}),c):t.length<a.length?(t.forEach(t=>{const e=t.getAttribute("data-modal");a.forEach(t=>{e==t.target&&c.push({target:t.target,counter:t.counter})})}),c):a}function loadSessionData(t){t.forEach(t=>{const e=document.querySelector(`.js-modal[data-modal="${t.target}"]`);e.querySelector(".js-clicked").textContent=t.counter})}sessionStorage.setItem("clicked",JSON.stringify(clickedData)),loadSessionData(clickedData),handleModal.forEach(t=>{t.addEventListener("click",t=>{switch((t=t.target).getAttribute("data-action")){case"open":openModal(t);break;case"close":closeModal(t)}})}),resetCounter.forEach(t=>{t.addEventListener("click",t=>{const e=(t=t.target).closest(".js-modal"),a=e.getAttribute("data-modal");var c=clickedData.findIndex(t=>t.target==a);const o=e.querySelector(".js-clicked");o.textContent=0,clickedData[c].counter=0,sessionStorage.setItem("clicked",JSON.stringify(clickedData)),t.classList.remove("active")})});